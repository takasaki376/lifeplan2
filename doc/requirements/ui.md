# MVP 要件定義書

ライフプラン管理アプリ（MVP）

---

## メタ情報

- ドキュメント名：MVP 要件定義書
- プロダクト名：ライフプラン管理アプリ
- フェーズ：MVP
- 作成日：YYYY/MM/DD
- 最終更新日：YYYY/MM/DD
- 管理方針：
  - 本書は **Decision（確定）と Assumption（仮定）を分離** して記述する
  - 将来の仕様変更は Assumption → Decision への昇格として管理する

---

## 1. Decision（確定事項）

- MVP は **継続入力（家計）／ライフイベント／住宅 LCC 比較／改定履歴（バージョン）** を中心に構成する
- 本アプリは「単発試算」ではなく **継続的に見直すライフプラン管理** を目的とする
- 入力 UX は **「かんたん → 詳細」** の二段階設計を基本とする
- 正解を提示するのではなく、**前提条件が可視化・編集可能** であることを重視する

---

## 2. Assumption（仮定・調整可能）

- 認証は MVP では最小構成（Email ログイン等）とし、UI 上は存在するが実装優先度は低い
- 資産残高・負債残高は **月次で総額入力** とする  
  （口座別・銘柄別管理は非スコープ）
- バージョン差分表示は以下までとする
  - 変更された前提パラメータ一覧
  - 主要結果の差分（LCC 合計、最終資産残高 等）

---

## 3. 機能要件（MVP）

### 3.1 画面一覧（MVP）

#### A. 共通・土台

1. **ログイン / 新規登録**

   - MVP では簡易実装で可

2. **プラン一覧**

   - 複数プランを表示（MVP では 1 件でも可）
   - ステータス（入力済 / 未入力）を表示

3. **プラン作成（かんたんウィザード）**

   - 最小限の入力で初期プランを作成

4. **プラン設定（詳細編集）**
   - シナリオ設定（保守 / 標準 / 楽観）
   - 年次前提（昇給率 / インフレ率 / 資産利回り）

---

#### B. ダッシュボード・分析

5. **ダッシュボード（プランホーム）**

   - 今月の収支
   - 資産残高 / 負債残高
   - 直近のライフイベント
   - 住宅 LCC の要点
   - 未入力アラート（今月分）

6. **将来推移（簡易）**
   - 資産残高推移（シナリオ切替）
   - 年次集計の簡易テーブル

---

#### C. 月次入力（継続管理コア）

7. **月次一覧（カレンダー / リスト）**

8. **月次入力（かんたん）**

   - 収入合計
   - 支出合計
   - 資産残高
   - 負債残高

9. **月次入力（詳細）**
   - 収入：主収入 / 副収入
   - 支出：固定費 / 変動費（カテゴリ）
   - メモ

---

#### D. ライフイベント

10. **イベント一覧**

11. **イベント作成 / 編集**
    - 種別
    - 発生月
    - 金額（単発 / 月額）
    - 継続期間（任意）

---

#### E. 住宅 LCC（比較の核）

12. **住宅 LCC：比較トップ**

    - 4 タイプの LCC カード比較（累計 / 年次）

13. **住宅 LCC：タイプ詳細**

    - 高性能住宅
    - 一般戸建
    - 分譲マンション
    - 賃貸

14. **住宅 LCC：前提パラメータ編集**
    - 初期費用
    - 住宅ローン（借入額 / 金利 / 期間）
    - 税（概算）
    - 修繕費（周期 × 単価）
    - 光熱費係数
    - 「かんたんプリセット → 詳細編集」の二段階

---

#### F. バージョン管理（見直し）

15. **改定履歴（バージョン一覧）**

16. **差分表示（簡易）**

    - 前提パラメータの変更点
    - 主要結果の差分

17. **現在版に反映 / 新バージョン作成**
    - ロールフォワード方式

---

## 4. 画面遷移（MVP）

### 4.1 全体フロー

```mermaid
flowchart TD
  A[ログイン/登録] --> B[プラン一覧]
  B --> C[プラン作成(かんたん)]
  C --> D[ダッシュボード]
  B --> D

  D --> E[月次一覧]
  E --> F[月次入力(かんたん)]
  F --> G[月次入力(詳細)]

  D --> H[イベント一覧]
  H --> I[イベント作成/編集]

  D --> J[住宅LCC 比較]
  J --> K[住宅タイプ詳細]
  K --> L[前提パラメータ編集]

  D --> M[将来推移]
  D --> N[改定履歴]
  N --> O[差分表示]
  O --> P[新バージョン作成/反映]
  P --> D
```

### 4.2 「かんたん → 詳細」入力導線

flowchart LR
A1[ダッシュボード] --> B1[かんたん入力]
B1 --> C1{もっと詳しく?}
C1 -- いいえ --> D1[保存して戻る]
C1 -- はい --> E1[詳細入力]
E1 --> D1
D1 --> A1
